{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../shared/confirm-equal-valiator.directive\";\n\nfunction RegisterComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"section\", 17);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Server Error -> \", ctx_r0.errorMessage, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"autohide in \", ctx_r0.time, \"\");\n  }\n}\n\nfunction RegisterComponent_ng_container_8_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 18);\n    i0.ɵɵtext(1, \"Username is required!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_ng_container_8_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 18);\n    i0.ɵɵtext(1, \"Username length must be at least 5 characters!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, RegisterComponent_ng_container_8_p_1_Template, 2, 0, \"p\", 15);\n    i0.ɵɵtemplate(2, RegisterComponent_ng_container_8_p_2_Template, 2, 0, \"p\", 15);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r3 = i0.ɵɵreference(10);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors == null ? null : _r3.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors == null ? null : _r3.errors.minlength);\n  }\n}\n\nfunction RegisterComponent_ng_container_18_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 18);\n    i0.ɵɵtext(1, \"Password is required!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_ng_container_18_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 18);\n    i0.ɵɵtext(1, \"Password length must be at least 5 characters!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_ng_container_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, RegisterComponent_ng_container_18_p_1_Template, 2, 0, \"p\", 15);\n    i0.ɵɵtemplate(2, RegisterComponent_ng_container_18_p_2_Template, 2, 0, \"p\", 15);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r5 = i0.ɵɵreference(17);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r5.errors == null ? null : _r5.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r5.errors == null ? null : _r5.errors.minlength);\n  }\n}\n\nfunction RegisterComponent_ng_container_24_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 18);\n    i0.ɵɵtext(1, \"Password is required!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_ng_container_24_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 18);\n    i0.ɵɵtext(1, \"Password length must be at least 5 characters!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_ng_container_24_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 18);\n    i0.ɵɵtext(1, \"Password and Repeat password don't match!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_ng_container_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, RegisterComponent_ng_container_24_p_1_Template, 2, 0, \"p\", 15);\n    i0.ɵɵtemplate(2, RegisterComponent_ng_container_24_p_2_Template, 2, 0, \"p\", 15);\n    i0.ɵɵtemplate(3, RegisterComponent_ng_container_24_p_3_Template, 2, 0, \"p\", 15);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r7 = i0.ɵɵreference(23);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r7.errors == null ? null : _r7.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r7.errors == null ? null : _r7.errors.minlength);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r7.errors == null ? null : _r7.errors.notEqual);\n  }\n}\n\nfunction RegisterComponent_p_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 18);\n    i0.ɵɵtext(1, \"Error catched!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_p_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 18);\n    i0.ɵɵtext(1, \"Password / Repeat Password is required!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_p_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 18);\n    i0.ɵɵtext(1, \"Password /Repeat Pasword length must be at least 5 characters!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_p_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 18);\n    i0.ɵɵtext(1, \"Password /Repeat Password must contain at least one capital character!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  class RegisterComponent {\n    constructor(userService, router) {\n      this.userService = userService;\n      this.router = router;\n      this.errorMessage = '';\n      this.time = 5;\n    }\n\n    register(form) {\n      const username = form.value.username;\n      const password = form.value.passwordsInput.password;\n      console.log('test');\n      this.userService.register({\n        username,\n        password\n      }).subscribe({\n        next: user => {\n          this.user = user;\n          this.router.navigate(['/']);\n        },\n        error: error => {\n          this.errorMessage = error.error;\n          console.error('An error occure -> ', this.errorMessage);\n          this.time = 5;\n          const timer = setInterval(() => {\n            if (this.time <= 0) {\n              clearInterval(timer);\n            }\n\n            this.time--;\n\n            if (this.time == 0) {\n              this.errorMessage = '';\n            }\n          }, 1000);\n        }\n      });\n    }\n\n  }\n\n  RegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n    return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  RegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegisterComponent,\n    selectors: [[\"app-register\"]],\n    decls: 32,\n    vars: 11,\n    consts: [[4, \"ngIf\"], [3, \"ngSubmit\"], [\"form\", \"ngForm\"], [1, \"on-dark\"], [\"for\", \"username\"], [\"ngModel\", \"\", \"name\", \"username\", \"type\", \"text\", \"placeholder\", \"John\", \"value\", \"\", \"required\", \"\", 3, \"minlength\"], [\"usernameInput\", \"ngModel\"], [\"ngModelGroup\", \"passwordsInput\", \"required\", \"true\"], [\"passwordsInput\", \"ngModelGroup\"], [\"for\", \"password\"], [\"ngModel\", \"\", \"name\", \"password\", \"type\", \"password\", \"placeholder\", \"********\", \"value\", \"\", \"required\", \"true\", 3, \"minlength\", \"ngModelChange\"], [\"passwordInput\", \"ngModel\"], [\"for\", \"rePassInput\"], [\"ngModel\", \"\", \"name\", \"rePassInput\", \"appConfirmEqualValidator\", \"password\", \"type\", \"password\", \"placeholder\", \"********\", \"value\", \"\", \"required\", \"true\", 3, \"minlength\"], [\"rePassInput\", \"ngModel\"], [\"class\", \"errortext\", 4, \"ngIf\"], [1, \"btn\"], [1, \"notifications\", \"error\"], [1, \"errortext\"]],\n    template: function RegisterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r20 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵtemplate(0, RegisterComponent_ng_container_0_Template, 6, 2, \"ng-container\", 0);\n        i0.ɵɵelementStart(1, \"form\", 1, 2);\n        i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_1_listener() {\n          i0.ɵɵrestoreView(_r20);\n\n          const _r1 = i0.ɵɵreference(2);\n\n          return ctx.register(_r1);\n        });\n        i0.ɵɵelementStart(3, \"h2\");\n        i0.ɵɵtext(4, \"Register\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵelementStart(6, \"label\", 4);\n        i0.ɵɵtext(7, \"Username:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, RegisterComponent_ng_container_8_Template, 3, 2, \"ng-container\", 0);\n        i0.ɵɵelement(9, \"input\", 5, 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementContainerStart(11, 7, 8);\n        i0.ɵɵelementStart(13, \"div\", 3);\n        i0.ɵɵelementStart(14, \"label\", 9);\n        i0.ɵɵtext(15, \"Password:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"input\", 10, 11);\n        i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_16_listener() {\n          i0.ɵɵrestoreView(_r20);\n\n          const _r7 = i0.ɵɵreference(23);\n\n          return _r7.control.updateValueAndValidity();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(18, RegisterComponent_ng_container_18_Template, 3, 2, \"ng-container\", 0);\n        i0.ɵɵelementStart(19, \"div\", 3);\n        i0.ɵɵelementStart(20, \"label\", 12);\n        i0.ɵɵtext(21, \"Repeat Password:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(22, \"input\", 13, 14);\n        i0.ɵɵtemplate(24, RegisterComponent_ng_container_24_Template, 4, 3, \"ng-container\", 0);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementContainerStart(25);\n        i0.ɵɵtemplate(26, RegisterComponent_p_26_Template, 2, 0, \"p\", 15);\n        i0.ɵɵtemplate(27, RegisterComponent_p_27_Template, 2, 0, \"p\", 15);\n        i0.ɵɵtemplate(28, RegisterComponent_p_28_Template, 2, 0, \"p\", 15);\n        i0.ɵɵtemplate(29, RegisterComponent_p_29_Template, 2, 0, \"p\", 15);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementStart(30, \"button\", 16);\n        i0.ɵɵtext(31, \"Register\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r3 = i0.ɵɵreference(10);\n\n        const _r4 = i0.ɵɵreference(12);\n\n        const _r5 = i0.ɵɵreference(17);\n\n        const _r7 = i0.ɵɵreference(23);\n\n        i0.ɵɵproperty(\"ngIf\", ctx.errorMessage.length != 0);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", _r3.touched);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"minlength\", 5);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"minlength\", 5);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", _r5.touched && _r5.invalid);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"minlength\", 5);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", _r7.touched && _r7.invalid);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", _r4.errors);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", _r4.errors == null ? null : _r4.errors.required);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", _r4.errors == null ? null : _r4.errors.minlength);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", _r4.errors == null ? null : _r4.errors.pattern);\n      }\n    },\n    directives: [i3.NgIf, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i4.RequiredValidator, i4.MinLengthValidator, i4.NgModelGroup, i5.ConfirmEqualValidatorDirective],\n    styles: [\"form[_ngcontent-%COMP%]{max-width:40em;min-width:15em;background-color:hsla(0,0%,100%,.849);border-radius:1rem;margin:3em auto;display:flex;flex-direction:column;padding:1em;box-shadow:2px 10px 1.5em 5px #000}form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:auto;font-size:2em;text-transform:uppercase;color:#000}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:1em 1em 0;display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin:0 0 .2em;color:#000;font-size:1.5rem}input[_ngcontent-%COMP%]{text-decoration:inherit;background-color:initial;border:none;border-bottom:2px solid #07011f;font-family:system-ui;font-size:1rem;padding:.5rem 1.5rem}form[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{margin:1em;padding:.5rem;border:none;border-radius:.5em;font-size:1.2rem;box-sizing:2px 2px 2px #000}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:rgba(0,128,0,.562)}.errortext[_ngcontent-%COMP%]{background-color:initial;font-family:system-ui;font-size:1rem;color:#b90909}.notifications[_ngcontent-%COMP%]{margin:2em;padding:1em;position:absolute;right:0;width:20em;border:2px solid;border-image-slice:1;border-radius:1em;color:#fff}.error[_ngcontent-%COMP%]{background-color:rgba(245,58,136,.568);border-color:rgba(255,0,0,.315)}\"]\n  });\n  return RegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}