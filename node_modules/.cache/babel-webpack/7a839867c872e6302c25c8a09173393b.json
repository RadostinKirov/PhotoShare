{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../photo/content.service\";\nimport * as i2 from \"../user/user.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\n\nfunction HomeComponent_section_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 6);\n    i0.ɵɵelementStart(1, \"h1\");\n    i0.ɵɵtext(2, \"Welcome\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 7);\n    i0.ɵɵelementStart(4, \"ul\");\n    i0.ɵɵelementStart(5, \"li\");\n    i0.ɵɵtext(6, \"Do you love making photos?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"li\");\n    i0.ɵɵtext(8, \"Do you wonder how good you are in making photos?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"li\");\n    i0.ɵɵtext(10, \"Would you like to get some feedback from different people related to your photos?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\");\n    i0.ɵɵtext(12, \"If you have a triple YES as an answer then you are on the right web location. Please subscribe and share your best photos. Once uploaded all visitors will be able to review, comment or even like your them. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 8);\n    i0.ɵɵelementStart(14, \"a\", 9);\n    i0.ɵɵtext(15, \"Register\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomeComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵelementStart(1, \"a\", 11);\n    i0.ɵɵtext(2, \"Share photo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 12);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_5_Template_a_click_3_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.recent();\n    });\n    i0.ɵɵtext(4, \"Recent photos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 12);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_5_Template_a_click_5_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.mostLiked();\n    });\n    i0.ɵɵtext(6, \"Most liked photos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function (a1) {\n  return [\"/details\", a1];\n};\n\nfunction HomeComponent_div_7_a_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 19);\n    i0.ɵɵtext(1, \"More Info\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const photo_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(1, _c0, photo_r7._id));\n  }\n}\n\nfunction HomeComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 13);\n    i0.ɵɵelement(2, \"img\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 15);\n    i0.ɵɵelementStart(4, \"h4\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 16);\n    i0.ɵɵtemplate(7, HomeComponent_div_7_a_7_Template, 2, 3, \"a\", 17);\n    i0.ɵɵelementStart(8, \"span\", 18);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const photo_r7 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", photo_r7.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(photo_r7.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isLogged);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", photo_r7.likes, \" likes\");\n  }\n}\n\nfunction HomeComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Loading...\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(contentService, userService) {\n      this.contentService = contentService;\n      this.userService = userService;\n      this.collectionTitle = 'Checkout Our Last Uploads';\n      this.fetchPhotos();\n    }\n\n    get isLogged() {\n      return this.userService.isLogged;\n    }\n\n    fetchPhotos() {\n      this.photos = undefined;\n      this.allPhotosSubscription = this.contentService.loadPhotos().subscribe(photos => this.photos = photos);\n    }\n\n    recent() {\n      this.allPhotosSubscription.unsubscribe();\n\n      if (this.mostLikedPhotosSubscription) {\n        this.mostLikedPhotosSubscription.unsubscribe();\n      }\n\n      ;\n      this.fetchPhotos();\n      this.collectionTitle = 'Checkout Our Last Uploads';\n    }\n\n    mostLiked() {\n      this.allPhotosSubscription.unsubscribe();\n      this.mostLikedPhotosSubscription = this.contentService.loadMostLikedPhotos().subscribe(photos => this.photos = photos.slice(0, 3));\n      this.collectionTitle = 'Top 3 most liked photos';\n    }\n\n  }\n\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.ContentService), i0.ɵɵdirectiveInject(i2.UserService));\n  };\n\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-photo\"]],\n    decls: 9,\n    vars: 5,\n    consts: [[\"class\", \"container\", 4, \"ngIf\"], [1, \"aux\"], [\"class\", \"home-buttons\", 4, \"ngIf\"], [1, \"photos-container\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"container\"], [1, \"welcomeText\"], [2, \"text-align\", \"center\"], [\"routerLink\", \"/register\", 1, \"btn-register\"], [1, \"home-buttons\"], [\"routerLink\", \"/create\", 1, \"btn\", \"create-photo\"], [1, \"btn\", \"create-photo\", 3, \"click\"], [1, \"home-image\"], [\"alt\", \"Card image cap\", 3, \"src\"], [1, \"info\"], [1, \"info-buttons\"], [\"class\", \"btn details\", 3, \"routerLink\", 4, \"ngIf\"], [1, \"likes\"], [1, \"btn\", \"details\", 3, \"routerLink\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, HomeComponent_section_0_Template, 16, 0, \"section\", 0);\n        i0.ɵɵelementStart(1, \"section\");\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵelementStart(3, \"h1\");\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(5, HomeComponent_div_5_Template, 7, 0, \"div\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 3);\n        i0.ɵɵtemplate(7, HomeComponent_div_7_Template, 10, 4, \"div\", 4);\n        i0.ɵɵtemplate(8, HomeComponent_div_8_Template, 2, 0, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLogged);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.collectionTitle);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLogged);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.photos);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.photos);\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, i4.RouterLinkWithHref],\n    styles: [\"body[_ngcontent-%COMP%]{position:relative;height:100vh}a[_ngcontent-%COMP%]{text-decoration:none}.btn[_ngcontent-%COMP%]{border-radius:.3em;padding:.1em .3em;color:#000;box-shadow:2px 2px 5px rgba(0,0,0,.568)}.btn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:rgba(0,0,0,.329);color:#fff}section[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.849);margin:1em 3em;padding:1em;border-radius:1rem;box-shadow:2px 10px 1.5em 5px #000}section[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{margin-bottom:.5em;font-size:2em}.photos-container[_ngcontent-%COMP%]{background-color:hsla(0,0%,50%,.301);display:flex;justify-content:space-between;overflow-x:scroll}.photos-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:0 0 5em;margin:1em;background-color:gray;position:relative;box-shadow:2px 2px 1.5em 2px #000}.photos-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%]{position:absolute;display:block;width:100%;padding:.5rem;bottom:0;background-color:#fff;box-shadow:2px 2px 1.5em 2px #000}h4[_ngcontent-%COMP%]{margin:1em}img[_ngcontent-%COMP%]{margin:0 auto}.home-image[_ngcontent-%COMP%]{max-height:40em}.home-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-height:30em;max-width:30em}.aux[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:2em}.aux[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:2em}.home-buttons[_ngcontent-%COMP%]{margin:0 0 0 auto}#search-input[_ngcontent-%COMP%]{border-bottom:1px solid #000;margin:0 1em;height:-webkit-min-content;height:min-content}textarea[_ngcontent-%COMP%]{height:10em;border:2px solid #000;background-color:initial;padding:1em 2em}.check[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.check[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin:0 1em}.createPhoto-form[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{margin-left:.5em}.liked[_ngcontent-%COMP%]{background-color:green;padding:.5em;border-radius:.5em;color:#fff}a.create-photo[_ngcontent-%COMP%]{margin-left:2em;padding:.5em}.info-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.likes[_ngcontent-%COMP%]{display:block;margin:0 1em}img.image[_ngcontent-%COMP%]{display:block;max-height:25em}.btn-register[_ngcontent-%COMP%]{display:inline-block;border-radius:.3em;margin-top:1em;padding:.8em 3.9em;color:#000;box-shadow:2px 2px 5px rgba(0,0,0,.568);font-family:Calibri Italic}.btn-register[_ngcontent-%COMP%]:hover{color:#fff;background-color:rgba(0,0,0,.568)}\"]\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}